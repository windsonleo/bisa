<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

	<head th:replace="fragmentos/head :: head-css">
	
<!-- 		<link rel="stylesheet" media="print" -->
<!-- 	href="resources/static/css/fullcalendar.print.css" -->
<!-- 	th:href="@{/css/fullcalendar.print.css}" type="text/css" /> -->
	
	</head>
	
	<style>
.fc {
	direction: ltr;
	text-align: left
}

.fc-rtl {
	text-align: right
}

body .fc {
	font-size: 1em
}

.fc-unthemed .fc-popover, .fc-unthemed .fc-row, .fc-unthemed hr,
	.fc-unthemed tbody, .fc-unthemed td, .fc-unthemed th, .fc-unthemed thead
	{
	border-color: #ddd
}

.fc-unthemed .fc-popover {
	background-color: #fff
}

.fc-unthemed .fc-popover .fc-header, .fc-unthemed hr {
	background: #eee
}

.fc-unthemed .fc-popover .fc-header .fc-close {
	color: #666
}

.fc-unthemed .fc-today {
	background: #fcf8e3
}

.fc-highlight {
	background: #bce8f1;
	opacity: .3;
	filter: alpha(opacity = 30)
}

.fc-bgevent {
	background: #8fdf82;
	opacity: .3;
	filter: alpha(opacity = 30)
}

.fc-nonbusiness {
	background: #ccc
}

.fc-icon {
	display: inline-block;
	font-size: 2em;
	line-height: .5em;
	height: .5em;
	font-family: "Courier New", Courier, monospace
}

.fc-icon-left-single-arrow:after {
	content: "\02039";
	font-weight: 700
}

.fc-icon-right-single-arrow:after {
	content: "\0203A";
	font-weight: 700
}

.fc-icon-left-double-arrow:after {
	content: "\000AB"
}

.fc-icon-right-double-arrow:after {
	content: "\000BB"
}

.fc-icon-x:after {
	content: "\000D7"
}

.fc button {
	-moz-box-sizing: border-box;
	-webkit-box-sizing: border-box;
	box-sizing: border-box;
	margin: 0;
	height: 2.1em;
	padding: 0 .6em;
	font-size: 1em;
	white-space: nowrap;
	cursor: pointer
}

.fc button::-moz-focus-inner {
	margin: 0;
	padding: 0
}

.fc-state-default {
	border: 1px solid
}

.fc-state-default.fc-corner-left {
	border-top-left-radius: 4px;
	border-bottom-left-radius: 4px
}

.fc-state-default.fc-corner-right {
	border-top-right-radius: 4px;
	border-bottom-right-radius: 4px
}

.fc button .fc-icon {
	position: relative;
	top: .05em;
	margin: 0 .1em
}

.fc-state-default {
	background-color: #f5f5f5;
	background-image: -moz-linear-gradient(top, #fff, #e6e6e6);
	background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#fff),
		to(#e6e6e6));
	background-image: -webkit-linear-gradient(top, #fff, #e6e6e6);
	background-image: -o-linear-gradient(top, #fff, #e6e6e6);
	background-image: linear-gradient(to bottom, #fff, #e6e6e6);
	background-repeat: repeat-x;
	border-color: #e6e6e6 #e6e6e6 #bfbfbf;
	border-color: rgba(0, 0, 0, .1) rgba(0, 0, 0, .1) rgba(0, 0, 0, .25);
	color: #333;
	text-shadow: 0 1px 1px rgba(255, 255, 255, .75);
	box-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px
		rgba(0, 0, 0, .05)
}

.fc-state-active, .fc-state-disabled, .fc-state-down, .fc-state-hover {
	color: #333;
	background-color: #e6e6e6
}

.fc-state-hover {
	color: #333;
	text-decoration: none;
	background-position: 0 -15px;
	-webkit-transition: background-position .1s linear;
	-moz-transition: background-position .1s linear;
	-o-transition: background-position .1s linear;
	transition: background-position .1s linear
}

.fc-state-active, .fc-state-down {
	background-color: #ccc;
	background-image: none;
	box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15), 0 1px 2px
		rgba(0, 0, 0, .05)
}

.fc-state-disabled {
	cursor: default;
	background-image: none;
	opacity: .65;
	filter: alpha(opacity = 65);
	box-shadow: none
}

.fc-button-group {
	display: inline-block
}

.fc .fc-button-group>* {
	float: left;
	margin: 0 0 0 -1px
}

.fc .fc-button-group>:first-child {
	margin-left: 0
}

.fc-popover {
	position: absolute;
	box-shadow: 0 2px 6px rgba(0, 0, 0, .15)
}

.fc-popover .fc-header {
	padding: 2px 4px
}

.fc-popover .fc-header .fc-title {
	margin: 0 2px
}

.fc-popover .fc-header .fc-close {
	cursor: pointer
}

.fc-ltr .fc-popover .fc-header .fc-title, .fc-rtl .fc-popover .fc-header .fc-close
	{
	float: left
}

.fc-ltr .fc-popover .fc-header .fc-close, .fc-rtl .fc-popover .fc-header .fc-title
	{
	float: right
}

.fc-unthemed .fc-popover {
	border-width: 1px;
	border-style: solid
}

.fc-unthemed .fc-popover .fc-header .fc-close {
	font-size: 25px;
	margin-top: 4px
}

.fc-popover>.ui-widget-header+.ui-widget-content {
	border-top: 0
}

.fc hr {
	height: 0;
	margin: 0;
	padding: 0 0 2px;
	border-style: solid;
	border-width: 1px 0
}

.fc-clear {
	clear: both
}

.fc-bg, .fc-bgevent-skeleton, .fc-helper-skeleton,
	.fc-highlight-skeleton {
	position: absolute;
	top: 0;
	left: 0;
	right: 0
}

.fc-bg {
	bottom: 0
}

.fc-bg table {
	height: 100%
}

.fc table {
	width: 100%;
	table-layout: fixed;
	border-collapse: collapse;
	border-spacing: 0;
	font-size: 1em
}

.fc th {
	text-align: center
}

.fc td, .fc th {
	border-style: solid;
	border-width: 1px;
	padding: 0;
	vertical-align: top
}

.fc td.fc-today {
	border-style: double
}

.fc .fc-row {
	border-style: solid;
	border-width: 0
}

.fc-row table {
	border-left: 0 hidden transparent;
	border-right: 0 hidden transparent;
	border-bottom: 0 hidden transparent
}

.fc-row:first-child table {
	border-top: 0 hidden transparent
}

.fc-row {
	position: relative
}

.fc-row .fc-bg {
	z-index: 1
}

.fc-row .fc-bgevent-skeleton, .fc-row .fc-highlight-skeleton {
	bottom: 0
}

.fc-row .fc-bgevent-skeleton table, .fc-row .fc-highlight-skeleton table
	{
	height: 100%
}

.fc-row .fc-bgevent-skeleton td, .fc-row .fc-highlight-skeleton td {
	border-color: transparent
}

.fc-row .fc-bgevent-skeleton {
	z-index: 2
}

.fc-row .fc-highlight-skeleton {
	z-index: 3
}

.fc-row .fc-content-skeleton {
	position: relative;
	z-index: 4;
	padding-bottom: 2px
}

.fc-row .fc-helper-skeleton {
	z-index: 5
}

.fc-row .fc-content-skeleton td, .fc-row .fc-helper-skeleton td {
	background: 0 0;
	border-color: transparent;
	border-bottom: 0
}

.fc-row .fc-content-skeleton tbody td, .fc-row .fc-helper-skeleton tbody td
	{
	border-top: 0
}

.fc-scroller {
	overflow-y: scroll;
	overflow-x: hidden
}

.fc-scroller>* {
	position: relative;
	width: 100%;
	overflow: hidden
}

.fc-event {
	position: relative;
	display: block;
	font-size: .85em;
	line-height: 1.3;
	border-radius: 3px;
	border: 1px solid #3a87ad;
	background-color: #3a87ad;
	font-weight: 400
}

.fc-event, .fc-event:hover, .ui-widget .fc-event {
	color: #fff;
	text-decoration: none
}

.fc-event.fc-draggable, .fc-event[href] {
	cursor: pointer
}

.fc-not-allowed, .fc-not-allowed .fc-event {
	cursor: not-allowed
}

.fc-day-grid-event {
	margin: 1px 2px 0;
	padding: 0 1px
}

.fc-ltr .fc-day-grid-event.fc-not-start, .fc-rtl .fc-day-grid-event.fc-not-end
	{
	margin-left: 0;
	border-left-width: 0;
	padding-left: 1px;
	border-top-left-radius: 0;
	border-bottom-left-radius: 0
}

.fc-ltr .fc-day-grid-event.fc-not-end, .fc-rtl .fc-day-grid-event.fc-not-start
	{
	margin-right: 0;
	border-right-width: 0;
	padding-right: 1px;
	border-top-right-radius: 0;
	border-bottom-right-radius: 0
}

.fc-day-grid-event>.fc-content {
	white-space: nowrap;
	overflow: hidden
}

.fc-day-grid-event .fc-time {
	font-weight: 700
}

.fc-day-grid-event .fc-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	width: 7px
}

.fc-ltr .fc-day-grid-event .fc-resizer {
	right: -3px;
	cursor: e-resize
}

.fc-rtl .fc-day-grid-event .fc-resizer {
	left: -3px;
	cursor: w-resize
}

a.fc-more {
	margin: 1px 3px;
	font-size: .85em;
	cursor: pointer;
	text-decoration: none
}

a.fc-more:hover {
	text-decoration: underline
}

.fc-limited {
	display: none
}

.fc-day-grid .fc-row {
	z-index: 1
}

.fc-more-popover {
	z-index: 2;
	width: 220px
}

.fc-more-popover .fc-event-container {
	padding: 10px
}

.fc-toolbar {
	text-align: center;
	margin-bottom: 1em
}

.fc-toolbar .fc-left {
	float: left
}

.fc-toolbar .fc-right {
	float: right
}

.fc-toolbar .fc-center {
	display: inline-block
}

.fc .fc-toolbar>*>* {
	float: left;
	margin-left: .75em
}

.fc .fc-toolbar>*>:first-child {
	margin-left: 0
}

.fc-toolbar h2 {
	margin: 0
}

.fc-toolbar button {
	position: relative
}

.fc-toolbar .fc-state-hover, .fc-toolbar .ui-state-hover {
	z-index: 2
}

.fc-toolbar .fc-state-down {
	z-index: 3
}

.fc-toolbar .fc-state-active, .fc-toolbar .ui-state-active {
	z-index: 4
}

.fc-toolbar button:focus {
	z-index: 5
}

.fc-view-container *, .fc-view-container :after, .fc-view-container :before
	{
	-webkit-box-sizing: content-box;
	-moz-box-sizing: content-box;
	box-sizing: content-box
}

.fc-view, .fc-view>table {
	position: relative;
	z-index: 1
}

.fc-basicDay-view .fc-content-skeleton, .fc-basicWeek-view .fc-content-skeleton
	{
	padding-top: 1px;
	padding-bottom: 1em
}

.fc-basic-view tbody .fc-row {
	min-height: 4em
}

.fc-row.fc-rigid {
	overflow: hidden
}

.fc-row.fc-rigid .fc-content-skeleton {
	position: absolute;
	top: 0;
	left: 0;
	right: 0
}

.fc-basic-view .fc-day-number, .fc-basic-view .fc-week-number {
	padding: 0 2px
}

.fc-basic-view td.fc-day-number, .fc-basic-view td.fc-week-number span {
	padding-top: 2px;
	padding-bottom: 2px
}

.fc-basic-view .fc-week-number {
	text-align: center
}

.fc-basic-view .fc-week-number span {
	display: inline-block;
	min-width: 1.25em
}

.fc-ltr .fc-basic-view .fc-day-number {
	text-align: right
}

.fc-rtl .fc-basic-view .fc-day-number {
	text-align: left
}

.fc-day-number.fc-other-month {
	opacity: .3;
	filter: alpha(opacity = 30)
}

.fc-agenda-view .fc-day-grid {
	position: relative;
	z-index: 2
}

.fc-agenda-view .fc-day-grid .fc-row {
	min-height: 3em
}

.fc-agenda-view .fc-day-grid .fc-row .fc-content-skeleton {
	padding-top: 1px;
	padding-bottom: 1em
}

.fc .fc-axis {
	vertical-align: middle;
	padding: 0 4px;
	white-space: nowrap
}

.fc-ltr .fc-axis {
	text-align: right
}

.fc-rtl .fc-axis {
	text-align: left
}

.ui-widget td.fc-axis {
	font-weight: 400
}

.fc-time-grid, .fc-time-grid-container {
	position: relative;
	z-index: 1
}

.fc-time-grid {
	min-height: 100%
}

.fc-time-grid table {
	border: 0 hidden transparent
}

.fc-time-grid>.fc-bg {
	z-index: 1
}

.fc-time-grid .fc-slats, .fc-time-grid>hr {
	position: relative;
	z-index: 2
}

.fc-time-grid .fc-bgevent-skeleton, .fc-time-grid .fc-content-skeleton {
	position: absolute;
	top: 0;
	left: 0;
	right: 0
}

.fc-time-grid .fc-bgevent-skeleton {
	z-index: 3
}

.fc-time-grid .fc-highlight-skeleton {
	z-index: 4
}

.fc-time-grid .fc-content-skeleton {
	z-index: 5
}

.fc-time-grid .fc-helper-skeleton {
	z-index: 6
}

.fc-slats td {
	height: 1.5em;
	border-bottom: 0
}

.fc-slats .fc-minor td {
	border-top-style: dotted
}

.fc-slats .ui-widget-content {
	background: 0 0
}

.fc-time-grid .fc-highlight-container {
	position: relative
}

.fc-time-grid .fc-highlight {
	position: absolute;
	left: 0;
	right: 0
}

.fc-time-grid .fc-bgevent-container, .fc-time-grid .fc-event-container {
	position: relative
}

.fc-ltr .fc-time-grid .fc-event-container {
	margin: 0 2.5% 0 2px
}

.fc-rtl .fc-time-grid .fc-event-container {
	margin: 0 2px 0 2.5%
}

.fc-time-grid .fc-bgevent, .fc-time-grid .fc-event {
	position: absolute;
	z-index: 1
}

.fc-time-grid .fc-bgevent {
	left: 0;
	right: 0
}

.fc-time-grid-event.fc-not-start {
	border-top-width: 0;
	padding-top: 1px;
	border-top-left-radius: 0;
	border-top-right-radius: 0
}

.fc-time-grid-event.fc-not-end {
	border-bottom-width: 0;
	padding-bottom: 1px;
	border-bottom-left-radius: 0;
	border-bottom-right-radius: 0
}

.fc-time-grid-event {
	overflow: hidden
}

.fc-time-grid-event>.fc-content {
	position: relative;
	z-index: 2
}

.fc-time-grid-event .fc-time, .fc-time-grid-event .fc-title {
	padding: 0 1px
}

.fc-time-grid-event .fc-time {
	font-size: .85em;
	white-space: nowrap
}

.fc-time-grid-event .fc-bg {
	z-index: 1;
	background: #fff;
	opacity: .25;
	filter: alpha(opacity = 25)
}

.fc-time-grid-event.fc-short .fc-content {
	white-space: nowrap
}

.fc-time-grid-event.fc-short .fc-time, .fc-time-grid-event.fc-short .fc-title
	{
	display: inline-block;
	vertical-align: top
}

.fc-time-grid-event.fc-short .fc-time span {
	display: none
}

.fc-time-grid-event.fc-short .fc-time:before {
	content: attr(data-start)
}

.fc-time-grid-event.fc-short .fc-time:after {
	content: "\000A0-\000A0"
}

.fc-time-grid-event.fc-short .fc-title {
	font-size: .85em;
	padding: 0
}

.fc-time-grid-event .fc-resizer {
	position: absolute;
	z-index: 3;
	left: 0;
	right: 0;
	bottom: 0;
	height: 8px;
	overflow: hidden;
	line-height: 8px;
	font-size: 11px;
	font-family: monospace;
	text-align: center;
	cursor: s-resize
}

.fc-time-grid-event .fc-resizer:after {
	content: "="
}


</style>
	
		
		<title>Calendario</title>

			<body  class="hold-transition skin-blue sidebar-mini">
			

			
			<div class="wrapper">

	   			  <nav th:replace="fragmentos/top-nav :: nav">
				
				</nav>
				
					<div th:replace="fragmentos/nav :: nav-side"> </div>
				
		  <!-- Content Wrapper. Contains page content -->
   <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Calendario
        <small>Agenda</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Calendario</a></li>
        <li class="active">Agenda</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-md-3">
          <div class="box box-solid">
            <div class="box-header with-border">
              <h4 class="box-title">Eventos</h4>
            </div>
            <div class="box-body">
              <!-- the events -->
              <div id="external-events">
               
<!--                 <div th:each="evento: ${eventos}" th:class="${evento.backgroundColor=='rgb(221, 75, 57)'} ? 'external-event bg-red' : ''" th:text="${evento.title}" th:remove>Almoco</div> -->
<!--                 											${evento.backgroundColor=='rgb(0, 192, 239)'} ? 'external-event bg-aqua' : '' " -->
                											
                		<div th:each="evento: ${eventos}" class="external-event" th:style="|border-color:${evento.borderColor};background-color:${evento.backgroundColor}|" th:text="${evento.title}">Almoco</div> 								
                											 
<!--                 <div class="external-event bg-yellow">Casa</div> -->
<!--                 <div class="external-event bg-aqua">Reuniao</div> -->
<!--                 <div class="external-event bg-light-blue">Consulta</div> -->
<!--                 <div class="external-event bg-red">Escrittorio</div> -->
                <div class="checkbox">
                  <label for="drop-remove">
                    <input type="checkbox" id="drop-remove" />
                    remover apos arrastar
                  </label>
                </div>
              </div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /. box -->
          <div class="box box-solid">
            <div class="box-header with-border">
              <h3 class="box-title">Criar Evento</h3>
            </div>
            <div class="box-body">
            
            <form th:action="@{/evento/adicionar}" ModelAttribute="evento" method="POST" th:object="${evento}">
            
              <div class="btn-group" style="width: 100%; margin-bottom: 10px;">
                <!--<button type="button" id="color-chooser-btn" class="btn btn-info btn-block dropdown-toggle" data-toggle="dropdown">Color <span class="caret"></span></button>-->
                <ul class="fc-color-picker" id="color-chooser">
                  <li><a class="text-aqua" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-blue" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-light-blue" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-teal" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-yellow" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-orange" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-green" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-lime" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-red" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-purple" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-fuchsia" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-muted" href="#"><i class="fa fa-square"></i></a></li>
                  <li><a class="text-navy" href="#"><i class="fa fa-square"></i></a></li>
                </ul>
              </div>
              <!-- /btn-group -->
              <div class="input-group">
                <input id="title" type="text" name="title" th:value="${evento.title}" class="form-control" placeholder="Titulo do Evento" />
                <input id="start" type="text" name="start" th:value="${evento.start}" class="form-control" placeholder="Data Inicio" hidden="true" style="display:none;" />
                <input id="end" type="text" name="end" th:value="${evento.end}" class="form-control" placeholder="Data Fim"  hidden="true" style="display:none;" />

                <input id="backgroundColor" type="text" name="backgroundColor" th:value="${evento.backgroundColor}" class="form-control" placeholder="backgroundColor"  hidden="true" style="display:none;"/>
                <input id="borderColor" type="text" name="borderColor" th:value="${evento.borderColor}" class="form-control" placeholder="borderColor"  hidden="true" style="display:none;"/>



                <div class="input-group-btn">
                  <input id="add-new-event" type="submit" class="btn btn-primary btn-flat">Add</input>
                </div>
                <!-- /btn-group -->
              </div>
              <!-- /input-group -->
              
              </form>
              
              
            </div>
            
            



            
          </div>
        </div>
        <!-- /.col -->
        <div class="col-md-9">
          <div class="box box-primary">
          
                     <a th:href="@{/evento/movimentacao}" class="btn bg-teal margin">
                     
                     <i class="fa fa-list-alt"></i>Movimentacao
                     <div class="ripple-container"></div>
                     </a>
             <button class="btn bg-navy margin" onclick="EnviarEventoServer()">
             <i class="fa fa-refresh"></i>Atualizar
             <div class="ripple-container"></div>
             </button>
             
             <button class="btn bg-purple margin"  onclick="printPreview()">
             <i class="fa fa-print"></i>Imprimir
             <div class="ripple-container"></div>
             </button>
             
                          <button id="pdf" class="btn bg-maroon margin"  onclick="Pdf()">
             <i class="fa fa-print"></i>Pdf
             <div class="ripple-container"></div>
             </button>
             
                           <div id="fullCalModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
        
        <form th:action="@{/evento/alterar}" th:object="${evento}" ModelAttribute="evento" method="POST">
        
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                <i class="material-icons">clear</i>
                </button>
                <h4 id="modalTitle" class="modal-title" th:style="|border-color:${evento.borderColor};background-color:${evento.backgroundColor}|"  ></h4>
                
                
                                			<div class="form-group label-floating ">
                			 
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                     <label>Id:</label>
                  </div>
                 <input id="idd" type="text" name="id" th:value="${evento.id}" class="form-control" placeholder="Id do Evento" readonly="readonly"/>
                 </div>
                
                			<div class="form-group label-floating ">
                			 
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                     <label>Titulo:</label>
                  </div>
                 <input id="titlee" type="text" name="title" th:value="${evento.title}" class="form-control" placeholder="Titulo do Evento" />
                 </div>
                 			<div class="form-group label-floating ">
                 		
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                    	  <label>Data Inicio:</label>
                  </div>
                <input id="startt" type="text" name="start" th:value="${evento.start}" class="form-control" placeholder="Data Inicio"  />
                
                </div>
                
                                                <div class="bootstrap-timepicker">
                <div class="form-group">
              
                            <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa  fa-calendar-times-o"></i>
                        <label>Hora Inicio:</label>
                  </div>
                                    <input id="horainicio" data-format="hh:mm:ss" class="form-control timepicker" autocomplete="off" name="horainicio" type="text" th:value="${horainicio}"
                                           placeholder="Hora Inicio"> </input>
                                </div>
                            </div>
                            </div>
                
                			<div class="form-group label-floating ">
                			
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                      <label>Data Fim:</label>
                  </div>
                <input id="endd" type="text"  name="end" th:value="${evento.end}" class="form-control" placeholder="Data Fim" />
                </div>
                
                                                <div class="bootstrap-timepicker">
                <div class="form-group">
                  
                            <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa  fa-calendar-times-o"></i>
                    <label>Hora Fim:</label>
                  </div>
                                    <input id="horafim" data-format="hh:mm:ss" class="form-control timepicker" autocomplete="off" name="horafim" type="text" th:value="${horafim}"
                                           placeholder="Hora fim"> </input>
                                </div>
                            </div>
                            </div>

			<div class="form-group label-floating ">
			 
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                     <label>Cor Fundo:</label>
                  </div>
                  
                   <div class="input-group my-colorpicker2">
                <input id="backgroundColorr" type="text" name="backgroundColor" th:value="${evento.backgroundColor}" class="form-control" placeholder="backgroundColor"/>
                                  <div class="input-group-addon">
                    <i></i>
                  </div>
                  </div>
                </div>
                
                <div class="form-group label-floating ">
                			
                  <div class="input-group">
                    <i class="fa fa-pencil-square-o"></i>
                      <label>Cor Borda:</label>
                  </div>
                 <div class="input-group my-colorpicker2">
                  
                <input id="borderColorr" type="text" name="borderColor" th:value="${evento.borderColor}" class="form-control" placeholder="borderColor"/>

                  <div class="input-group-addon">
                    <i></i>
                  </div>
                  </div>
               
                </div>
                
                
                
                
            </div>
            <div id="modalBody" class="modal-body"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                <button class="btn btn-success" type="submit">Editar</button>
            </div>
            
            <div id="editor" ></div>
            
            </form>
        </div>
    </div>
</div>
             
             
            <div class="box-body no-padding" id="calendario">
              <!-- THE CALENDAR -->
              
              

              
              
              
              
              
              <div id="calendar"></div>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /. box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->
  </div>
  

  <div id='script-warning' hidden="true">
    This page should be running from a webserver, to allow fetching from the <code>json/</code> directory.
  </div>

		<script src="resources/static/js/jquery-2.2.3.min.js"
			th:src="@{/js/jquery-2.2.3.min.js}" th:inline="javascript" ></script>
			
											<script src="resources/static/js/bootstrap.min.js"
			th:src="@{/js/bootstrap.min.js}" th:inline="javascript" ></script>
			
						<script src="resources/static/js/material.min.js"
			th:src="@{/js/material.min.js}" th:inline="javascript" ></script>
			
									<script src="resources/static/js/ripples.min.js"
			th:src="@{/js/ripples.min.js}" th:inline="javascript" ></script>
			
			
			<script type="text/javascript">
    $.material.init();
</script>

								<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"
			th:src="@{https://code.jquery.com/ui/1.11.4/jquery-ui.min.js}" th:inline="javascript" ></script>
			
											<script src="resources/static/js/jquery.ui.touch-punch.min.js"
			th:src="@{/js/jquery.ui.touch-punch.min.js}" th:inline="javascript" ></script>
			



			
									<script src="resources/static/js/jquery.slimscroll.min.js"
			th:src="@{/js/jquery.slimscroll.min.js}" th:inline="javascript" ></script>
	
			
						<script src="resources/static/js/fastclick.js"
			th:src="@{/js/fastclick.js}" th:inline="javascript" ></script>
			
					<script src="resources/static/js/app.min.js"
		 th:src="@{/js/app.min.js}"  th:inline="javascript"></script>
		 
		 				<script src="resources/static/js/demo.js"
			th:src="@{/js/demo.js}"></script>
	
	
							<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"
			th:src="@{https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js}" th:inline="javascript" ></script>
	
									<script src="resources/static/js/daterangepicker.js"
			th:src="@{/js/daterangepicker.js}" type="text/javascript" ></script>
			
						<script src="resources/static/js/bootstrap-datepicker.js"
			th:src="@{/js/bootstrap-datepicker.js}" th:inline="javascript" ></script>
			
			
									<script src="resources/static/js/bootstrap-colorpicker.min.js"
			th:src="@{/js/bootstrap-colorpicker.min.js}" th:inline="javascript" ></script>
			
									<script src="resources/static/js/bootstrap-timepicker.min.js"
			th:src="@{/js/bootstrap-timepicker.min.js}" th:inline="javascript" ></script>
			
										    				<script src="resources/static/js/bootstrap-datepicker.pt-BR.js"
			th:src="@{/js/bootstrap-datepicker.pt-BR.js}" th:inline="javascript" ></script>
	
	<script src="resources/static/js/fullcalendar.min.js"
			th:src="@{/js/fullcalendar.min.js}" th:inline="javascript" ></script>
			
				<script src="resources/static/js/pt-br.js"
			th:src="@{/js/pt-br.js}" th:inline="javascript" ></script>
			
			
								<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"
			th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js}" th:inline="javascript" ></script>
			
			
			
			

			
			
	
	<script type="text/javascript" th:inline="javascript"> 
		

	
	  <!-- Page specific script -->
	  
	  /*<![CDATA[*/
		  
		  	window.onload = function() {
		document.onkeydown = function(e) {
			var code = e.keyCode || e.which;
			if(e.ctrlKey && (code == 80 || code == 112)) {
				e.preventDefault && e.preventDefault();
				return false;
			}
		}
		
		document.oncontextmenu = document.body.oncontextmenu = function() {return false;}
// 		$('#calendar').addTouch();

// 		 $('.fc-view tbody').draggable();
		
		}
	  
		  
$(function () {

    /* initialize the external events
     -----------------------------------------------------------------*/
    function ini_events(ele) {
      ele.each(function () {
    	  
    	  
    	  

        // create an Event Object (http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)
        // it doesn't need to have a start or end
        var eventObject = {
          title: $.trim($(this).text()) // use the element's text as the event title
        };

        // store the Event Object in the DOM element so we can get to it later
        $(this).data('eventObject', eventObject);
        

        // make the event draggable using jQuery UI
        $(this).draggable({
          zIndex: 1070,
          revert: true, // will cause the event to go back to its
          revertDuration: 0  //  original position after the drag
        });

      });
      
     
    }

    ini_events($('#external-events div.external-event'));

    /* initialize the calendar
     -----------------------------------------------------------------*/
     
     
    //Date for the calendar events (dummy data)
    var date = new Date();
    
    var d = date.getDate(),
        m = date.getMonth(),
        y = date.getFullYear();
    
	var dataAtual = y +'-'+m+'-'+d;

    
    
    $('#calendar').fullCalendar({
    	
        themeSystem: 'bootstrap4',
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
      },
      buttonText: {
        today: 'hoje',
        month: 'mes',
        week: 'semana',
        day: 'dia'
      },
      //Random default events
//       events: [
    	  
//           {
//               title: 'All Day Event',
//               start: new Date(y, m, 1),
//              backgroundColor: "#f56954", //red
//               borderColor: "#f56954" //red   
               
//                },
    	  
//        {
//        title: 'Long Event',
//        start: new Date(y, m, d - 5),
//        end: new Date(y, m, d - 2),
//     backgroundColor: "#f39c12", //yellow
//     borderColor: "#f39c12" //yellow


        
       
        events: { // you can also specify a plain string like 'json/events.json'
        url: '/agenda/evento/listar/',
//  			url: '/evento/listar/',
        
                error: function() {
          $('#script-warning').show();
        }
        
		
      },
    	  
     


// 	defaultDate: dataAtual,		
      editable: true,
      droppable: true, 
		eventLimit: false,
		lang:'pt-br',
// 		slotMinutes:10,
// 		selectable: true,
// 		selectHelper: true,
// 		nowIndicator:true,
		slotDuration:'00:20:00',
		selectLongPressDelay:2000,
		eventTextColor:'#ffffff',


		
		// this allows things to be dropped onto the calendar !!!
      
      
      drop: function (date, allDay) { // this function is called when something is dropped

        // retrieve the dropped element's stored Event Object
        var originalEventObject = $(this).data('eventObject');

        // we need to copy it, so that multiple events don't have a reference to the same object
        var copiedEventObject = $.extend({}, originalEventObject);

        // assign it the date that was reported
        copiedEventObject.start = date;
//         copiedEventObject.end = new Date(date.getFullYear(),date.getMonth(),date.getHours() + 2,date.getMinutes(),date.getSeconds(),date.getMilliseconds());
        copiedEventObject.allDay = allDay;
        copiedEventObject.backgroundColor = $(this).css("background-color");
        copiedEventObject.borderColor = $(this).css("border-color");
        
        
       

        // render the event on the calendar
        // the last `true` argument determines if the event "sticks" (http://arshaw.com/fullcalendar/docs/event_rendering/renderEvent/)
        $('#calendar').fullCalendar('renderEvent', copiedEventObject, true);
        
//         console.log("Hello copied!" , copiedEventObject );

        // is the "remove after drop" checkbox checked?
        if ($('#drop-remove').is(':checked')) {
          // if so, remove the element from the "Draggable Events" list
          $(this).remove();
        }

      },
      
      
      eventClick:  function(event, jsEvent, view) {
          $('#modalTitle').html(event.title);
          $('#modalBody').html(event.description);
          
          
          $('#idd').val(event.id);
          $('#titlee').val(event.title);
          $('#startt').val(event.start.format('YYYY-MM-DD'));
          
          $('#horainicio').val(event.start.format('HH:mm:ss'));
          $('#horafim').val(event.end.format('HH:mm:ss'));
          
          
          $('#endd').val(event.end.format('YYYY-MM-DD'));
          
          
          $('#backgroundColorr').val(event.backgroundColor);
          $('#borderColorr').val(event.borderColor);
          
          $('#eventUrl').attr('href',event.url);
          $('#fullCalModal').modal();
      }
      
      
      
//       eventRender: function (event, element) {
//           element.attr('href', 'javascript:void(0);');
// //           element.draggable();
// //           $(element).addTouch();
//           element.click(function() {
//               $("#start").html(moment(event.start).format('MMM Do h:mm A'));
//               $("#end").html(moment(event.end).format('MMM Do h:mm A'));
//               $("#title").html(event.title);
              
              
//               console.log("Hello events!" ,event ); 
              
// //               alert('teste:');
              
              
              
              
// //               $("#eventLink").attr('href', event.url);
// //               $("#eventContent").dialog({ modal: true, title: event.title, width:350});
//           });
//       },
      
      
//       eventAfterRender: function(event, element, view) {
//           element.draggable();
//         }
      
      
      

      
    });
    
    $('.fc-view tbody').draggable();
    
//     $('#calendar').addTouch();

    /* ADDING EVENTS */
    
    var currColor = "#ffffff"; //Red by default
    //Color chooser button
    var colorChooser = $("#color-chooser-btn");
    $("#color-chooser > li > a").click(function (e) {
      e.preventDefault();
      //Save color
      currColor = $(this).css("color");
      //Add color effect to button
      $('#add-new-event').css({"background-color": currColor, "border-color": currColor});
    });
   
    
    $("#add-new-event").click(function (e) {
//       e.preventDefault();
      //Get value and make sure it is not null
      var val = $("#title").val();
     
      if (val.length == 0) {
        return;
      }
      
      $("#backgroundColor").val(currColor);
      $("#borderColor").val(currColor);
      
      
   

      //Create events
      var event = $("<div />");
      event.css({"background-color": currColor, "border-color": currColor, "color": "#fff"}).addClass("external-event");
      event.html(val);
      $('#external-events').prepend(event);
      

      //Add draggable funtionality
      ini_events(event);

      //Remove event from text input
//       $("#titulo").val("");
   
    });
    
    
  
  });
	  
	  
	  function EnviarEventoServer() {
		  
		  
		  var eventos = $('#calendar').fullCalendar('clientEvents');
		  
		  var dias = [];

		// Percorrer array de eventos armazenando os dias que ainda não estão no array
		eventos.forEach(function(evento){
		    var data = evento.start._d;
		    var dataf = evento.end._d;
		    console.log("Hello data fim" , dataf );
		    
		   
		    var dataString = data.getFullYear() + '-' + data.getMonth() + '-' + data.getDate();
		    if(dias.indexOf(dataString) < 0){
		        dias.push(dataString);
		    }
		});
		
		 console.log("Hello eventos" ,eventos );
		 console.log("Hello dias" ,dias );
		 
			$.ajax({
				type: "POST",
				contentType: "application/json",
				url: "/agenda/evento/salvar/",
// 				url: "/evento/salvar/",
				data: JSON.stringify(eventos), // convert array to JSON
				dataType: 'json',
				cache: false,
				timeout: 100000,
				success: function (data) {

					console.log("SUCCESS : ", data);
// 					alert("Eventos Atualizados : " + data);
					window.location.reload();

				},
				error: function (e) {

					console.log("ERROR : ", e);

				}
			});
		  
		  
	  }
		  
	  
	  function printPreview() {
		  var headerElements = document.getElementsByClassName('fc-header');//.style.display = 'none';
		 
		  for(var i = 0, length = headerElements.length; i < length; i++) {
		    headerElements[i].style.display = 'none';
		  }
		  
		  var toPrint = document.getElementById('calendario').cloneNode(true);

// 		  for(var i = 0, length = headerElements.length; i < length; i++) {
// 		        headerElements[i].style.display = '';
// 		  }

// 		  var linkElements = document.getElementsByTagName('link');
// 		  var link = '';
// 		  for(var i = 0, length = linkElements.length; i < length; i++) {
// 		    link = link + linkElements[i].outerHTML;
// 		  }

		  var styleElements = document.getElementsByTagName('style');
		  var styles = '';
		  for(var i = 0, length = styleElements.length; i < length; i++) {
		    styles = styles + styleElements[i].innerHTML;
		   }

		  var popupWin = window.open('', '_blank');
		  popupWin.document.open();
		  popupWin.document.write('<html><title>Previsualizacao Impressão</title>'
		 +'<style>'+styles+'</style></head><body">')
		  popupWin.document.write(toPrint.innerHTML);
		  popupWin.document.write('</html>');
		  popupWin.document.close();
// 		  window.print();

		  setTimeout(popupWin.print(), 20000);
		}
	  
	  
	  function Pdf() {
		 
		  var doc = new jsPDF();
		  var specialElementHandlers = {
		      '#editor': function (element, renderer) {
		          return true;
		      }
		  };

		  $('#pdf').click(function () {   
		      doc.fromHTML($('#calendario').html(), 15, 15, {
		          'width': 170,
		              'elementHandlers': specialElementHandlers
		      });
		      doc.save('sample-filee.pdf');
		  });
		  
		  
		}
	  
	  
// 	  $('#calendar').addTouch();
	  
	        
	        /*]]>*/

	    </script>
	    
	     <script type="text/javascript" th:inline="javascript"> 
			
			
		  <!-- Page specific script -->
		  
		  /*<![CDATA[*/
			  
			   $(function () {
			  
// 			   $(".select2").select2();
			   
			  
		  

			    $(".timepicker").timepicker({
			        showInputs: false,
			        timeFormat: 'H:i:s',
			        showMeridian: false,
			        showSeconds: true
			      });
			  
		  
		 
	     $('#startt').datepicker({
	         autoclose: true,
	         format: 'yyyy-mm-dd',
		    	language: 'pt-BR'
	       });
	     
	     $('#endd').datepicker({
	         autoclose: true,
	         format: 'yyyy-mm-dd',
		    	language: 'pt-BR'
	       });
	     
	     
	     //color picker with addon
	     $(".my-colorpicker2").colorpicker();
	  
			   });
		
	
	  /*]]>*/
	</script>
	    
		</div>	
		

</body>

			
</html>

