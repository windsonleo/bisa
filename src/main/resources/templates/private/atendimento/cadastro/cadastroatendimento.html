<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

	<head th:replace="fragmentos/head :: head-css">
	
	
	</head>
		
		<title>Cadastro Atendimento</title>

		<body  class="hold-transition skin-blue sidebar-mini">
			
			<div class="wrapper">

	   			  <nav th:replace="fragmentos/top-nav :: nav">
				
				</nav>
				
					<div th:replace="fragmentos/nav :: nav-side"> </div>
					
					
					  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
       Atendimento
        <small>Cadastro</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Atendimento</a></li>
        <li class="active"><a href="#">Cadastro</a></li>
<!--         <li class="active">Blank page</li> -->
      </ol>
    </section>
    
    
		 <div class="content">
		 
		 
		 <!-- 				mensagens do sistema  -->
				
		<div class="row-fluid" th:if="${sucesso}">
					
			<div class="alert alert-success">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">check</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${sucesso}">
					
					
					
					</span>
					
				
						<span class="btn btn-sm btn-warning"><a th:href="@{/atendimento/cadastro}"><i></i>Novo</a></span>
					    <span class="btn btn-sm btn-warning"><a th:href="@{/atendimento/editar(id=${atendimento.id})}"><i></i>Editar</a></span>
				
				</div>
				
				
			</div>
					
					
					
			</div>
					
			<div class="row-fluid" th:if="${erro}">
					
			<div class="alert alert-danger">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">error</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${erro}"></span>
				
						<span class="btn btn-sm btn-warning"><a th:href="@{/atendimento/cadastro}"><i></i>Novo</a></span>
					    <span class="btn btn-sm btn-warning"><a th:href="@{/atendimento/editar(id=${atendimento.id})}"><i></i>Editar</a></span>
			
				</div>
				
				
			</div>
					
					
					
			</div>
				
<!-- fim das mensagens -->


<!-- inicio do conteudo  -->

 <div class="col-md-7 panel">
		 <div class="col-md-7">
<!--                       <div class="panel form-element-padding"> -->
                        <div class="panel-heading">
                         <h4>Cadastro de Atendimentos</h4>
                        </div>
                         <div class="panel-body" style="padding-bottom:30px;">
		 
			 
				 <form th:action="@{/atendimento/add}"  th:object="${atendimento}" ModelAttribute="atendimento" method="POST">


			         <div class="form-group">
			         		
			         		    <div class="checkbox">
                                  
                                  
                                  <label>
                                  <input id="ativo" name="optionsCheckboxes" class="checkbox" type="checkbox" th:checked="${atendimento.ativo}"/>
                                  Ativo</label>
                                </div>
                                
                                <div class="checkbox">
                                                             <label>
                                  <input id="assinado" name="optionsCheckboxes" class="checkbox"  type="checkbox" th:checked="${atendimento.assinado}"/>
                                  Assinado</label>
                                </div>
			     
									
								
			            </div>
			    <div class="form-group label-floating ">
                            <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-calendar-check-o"></i>
                  </div>
                                    <input id="data" autocomplete="off" class="form-control" name="data" type="text" th:field="*{data}"
                                           placeholder="Data"> </input>
                                </div>
                            </div>
                            
                            
                 <div class="bootstrap-timepicker">
                <div class="form-group">
                  <label>Time picker:</label>
                            <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa  fa-calendar-times-o"></i>
                  </div>
                                    <input id="horainicio" class="form-control timepicker" autocomplete="off" name="horainicio" type="text" th:field="*{horainicio}"
                                           placeholder="Hora inicio"> </input>
                                </div>
                            </div>
                            </div>
                            
                            
                                             <div class="bootstrap-timepicker">
                <div class="form-group">
                  <label>Time picker:</label>
                            <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa  fa-calendar-times-o"></i>
                  </div>
                                    <input id="horafim" class="form-control timepicker" autocomplete="off" name="horafim" type="text" th:field="*{horafim}"
                                           placeholder="Hora Final"> </input>
                                </div>
                            </div>
                            </div>

			
			              <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-folder"></i>
                  </div>
  				<label>Escolha Status do Atendimento</label>
                                    <select id="status" name="status" class="form-control select2">
                                        <optgroup label="Escolha Status do Atendimento">

                                            <option th:value="${atendimento.status}" th:selected="selected"
                                            th:utext="${atendimento.status}">
                                            
                                            
                                            </option>

                                                
                                             	<option th:each="plano: ${status}" th:value="${plano}" th:utext="${plano}"> planos </option>
					           				      	
				           				   		


                                        </optgroup>
                                    </select>


                                </div>
                            </div>
                            
             <div class="form-group">
                                          <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa  fa-wheelchair"></i>
                  </div>
                <label>Escolha a Paciente</label>
                <select id="paciente" name="paciente" class="form-control select2" data-placeholder="Selecione um paciente" style="width: 100%;"
                onblur="carregarImgPaciente()" >
                  
                  <option th:text="${atendimento.paciente}" th:selected="${atendimento.paciente != null}" class="selected">Atendimento Não Tem Nenhuma Paciente</option>
                  
                  
       				<option th:each="paciente: ${pacientes}" th:value="${paciente.id}" >
     				
     				<span th:text="${paciente.nome}" >Nenhuma paciente: Cadastrado </span>
     				
     				</option>

                </select>
              </div>
              </div>
              
              
                           <div class="form-group">
                           <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-user"></i>
                  </div>       
                           
                <label>Escolha a usuario</label>
                <select id="usuario" name="usuario" class="form-control select2" data-placeholder="Selecione um  usuario" style="width: 100%;">
                  
                  <option th:text="${atendimento.usuario}" th:selected="${atendimento.usuario != null}" class="selected">Atendimento Não Tem Nenhuma usuario</option>
                  
                  
       				<option th:each="usuario: ${usuarios}" th:value="${usuario.id}" >
     				
     				<span th:text="${usuario.email}" >Nenhuma usuario: Cadastrado </span>
     				
     				</option>

                </select>
              </div>
              </div>
				
			           
					 	 
			                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
		
				 	 
						
							<button type="submit" class="btn btn-success">Salvar</button>
							<a href='javascript:history.back(1)' class="btn btn-default">Voltar</a>
						
						</form>
						
<!-- 						</div> -->
                       


				
	<script src="resources/static/js/jquery-2.2.3.min.js"
			th:src="@{/js/jquery-2.2.3.min.js}" th:inline="javascript" ></script>
			
				<script src="resources/static/js/select2.full.min.js"
			th:src="@{/js/select2.full.min.js}" th:inline="javascript" ></script>
			
											<script src="resources/static/js/bootstrap.min.js"
			th:src="@{/js/bootstrap.min.js}" th:inline="javascript" ></script>
			
						<script src="resources/static/js/material.min.js"
			th:src="@{/js/material.min.js}" th:inline="javascript" ></script>
			
									<script src="resources/static/js/ripples.min.js"
			th:src="@{/js/ripples.min.js}" th:inline="javascript" ></script>
			
			
			
									<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"
			th:src="@{https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js}" th:inline="javascript" ></script>
			
			
								<script src="resources/static/js/daterangepicker.js"
			th:src="@{/js/daterangepicker.js}" type="text/javascript" ></script>
			
						<script src="resources/static/js/bootstrap-datepicker.js"
			th:src="@{/js/bootstrap-datepicker.js}" th:inline="javascript" ></script>
			
											<script src="resources/static/js/bootstrap-timepicker.min.js"
			th:src="@{/js/bootstrap-timepicker.min.js}" th:inline="javascript" ></script>
			
			
			<script type="text/javascript">
    $.material.init();
</script>

								<script src="resources/static/js/jquery.dataTables.min.js"
			th:src="@{/js/jquery.dataTables.min.js}" th:inline="javascript" ></script>

								<script src="resources/static/js/dataTables.bootstrap.min.js"
			th:src="@{/js/dataTables.bootstrap.min.js}" th:inline="javascript" ></script>
			
			<script src="resources/static/js/jquery.slimscroll.min.js"
			th:src="@{/js/jquery.slimscroll.min.js}" th:inline="javascript" ></script>
	
			
						<script src="resources/static/js/fastclick.js"
			th:src="@{/js/fastclick.js}" th:inline="javascript" ></script>
			
					<script src="resources/static/js/app.min.js"
		 th:src="@{/js/app.min.js}"  th:inline="javascript"></script>
		 
		 				<script src="resources/static/js/demo.js"
			th:src="@{/js/demo.js}"></script>
			
				    				<script src="resources/static/js/bootstrap-datepicker.pt-BR.js"
			th:src="@{/js/bootstrap-datepicker.pt-BR.js}" th:inline="javascript" ></script>
			
			
			</div>
			
<!-- 			</div> -->
			
			</div>
			
			
	
			
			
			</div>
			
			<div class="col-md-4" style="margin:5px;">
          <!-- Widget: user widget style 1 -->
          <div class="box box-widget widget-user">
            <!-- Add the bg color to the header using any of the bg-* classes -->
            <div class="widget-user-header bg-green-active">
              <h3 class="widget-user-username"  th:text="${usuarioAtt.email}"  >Thanh Nguyen</h3>
              <h5 class="widget-user-desc" th:text="${usuarioAtt.roles}">Founder &amp; CEO</h5>
            </div>
<!--             <div class="widget-user-image"> -->
<!--               <img class="img-circle" th:src="@{/img/avatar.jpg}" alt="User Avatar" /> -->
<!--             </div> -->


                       <div class="widget-user-image" th:if="${usuarioAtt.foto}">
              <img class="img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${usuarioAtt.foto})}" alt="User Avatar usu if"/>
            </div>
            
                                   <div class="widget-user-image" th:unless="${usuarioAtt.foto}">
              <img class="img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${filename})}" alt="User Avatar usu unless" />
            </div>



            <div class="box-footer">
              <div class="row">

                <div class="col-sm-12">
                  <div class="description-block">
<!--                     <h5 class="description-header"><button class="btn btn-block btn-primary btn-sm">Add foto -->
<!--                     <div class="ripple-container"></div> -->
<!--                     </button></h5> -->
<!--                     <span class="description-text"><i class="fa fa-photo"></i></span> -->
                  </div>
                  <!-- /.description-block -->
                </div>
                <!-- /.col -->
              </div>
              <!-- /.row -->
            </div>
          </div>
          <!-- /.widget-user -->
        </div>
        
        			<div class="col-md-4" style="margin:5px;">
          <!-- Widget: user widget style 1 -->
          <div class="box box-widget widget-user">
            <!-- Add the bg color to the header using any of the bg-* classes -->
            <div class="widget-user-header bg-yellow-active">
              <h3 id="pNome" class="widget-user-username"  th:text="${paciente.nome}" >Thanh Nguyen</h3>
              <h5 id="pPlano" class="widget-user-desc"  th:text="${paciente.plano}">Founder &amp; CEO</h5>
            </div>
<!--             <div class="widget-user-image"> -->
<!--               <img class="img-circle" th:src="@{/img/avatar.jpg}" alt="User Avatar" /> -->
<!--             </div> -->
            
            
                                    <div id="pFoto" class="widget-user-image" th:unless="${paciente.foto}">
              <img class="img-circle" th:src="@{/img/paciente/{fotoc}(fotoc=${filename})}" alt="User Avatar file unles"/>
            </div>
            
            
            
                       <div id="pFoto"   class="widget-user-image" th:if="${paciente.foto}">
              <img class="img-circle" th:src="@{/img/paciente/{fotoc}(fotoc=${paciente.foto})}" alt="User Avatar pac if"/>
            </div>
            
            
            
            <div class="box-footer">
              <div class="row">

                <div class="col-sm-12">
                  <div class="description-block">
<!--                     <h5 class="description-header"><button class="btn btn-block btn-primary btn-sm">Add foto -->
<!--                     <div class="ripple-container"></div> -->
<!--                     </button></h5> -->
                    <span class="description-text"><i class="fa fa-photo"></i></span>
                  </div>
                  <!-- /.description-block -->
                </div>
                <!-- /.col -->
              </div>
              <!-- /.row -->
            </div>
          </div>
          <!-- /.widget-user -->
        </div>
			
			
			
			</div>
			</div>
			</div>
			
			<script type="text/javascript">
			
		     $(function () {
		    	 
		    	 $(".select2").select2();
	    	
		     $('#data').datepicker({
		         autoclose: true,
		         format: 'dd/mm/yyyy',
			    	language: 'pt-BR'
		       });
		     
			    $(".timepicker").timepicker({
			        showInputs: false
			      });
		    
		     
		   function carregarImgPaciente(){
			   
			   var pnome;
			   var pplano;
			   var pfoto;
			   
			   pnome = document.getElementById("pNome");
			   pnome.value = pnome.value.toUpperCase(); 	
			   
			   
			   
		   }  
		     
		     
		     
		     
		     
		     });
			
			
			</script>
			
			</body>
			
				
	

</html>
