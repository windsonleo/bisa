<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<!-- 	<head th:replace="fragmentos/head :: head-css"> -->

<head>

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />


<link rel="icon" href="resources/static/img/logomi.png"
	th:href="@{/img/logomi.png}" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}" type="text/css" />
	
	<link rel="stylesheet" media="screen"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css"
	th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css}" type="text/css" />
	
		<link rel="stylesheet" media="screen"
	href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"
	th:href="@{https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css}" type="text/css" />
	
	
	
	
	<link rel="stylesheet" media="screen"
	href="resources/static/css/AdminLTE.min.css"
	th:href="@{/css/AdminLTE.min.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/font-awesome.min.css"
	th:href="@{/css/font-awesome.min.css}" type="text/css" />


<link rel="stylesheet" media="screen"
	href="resources/static/css/bootstrap-material-design.min.css"
	th:href="@{/css/bootstrap-material-design.min.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/ripples.min.css"
	th:href="@{/css/ripples.min.css}" type="text/css" />

	<link rel="stylesheet" media="screen"
	href="resources/static/css/MaterialAdminLTE.min.css"
	th:href="@{/css/MaterialAdminLTE.min.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/all-md-skins.min.css"
	th:href="@{/css/all-md-skins.min.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/morris.css"
	th:href="@{/css/morris.css}" type="text/css" />
	
	<link rel="stylesheet" media="screen"
	href="resources/static/css/jquery-jvectormap-1.2.2.css"
	th:href="@{/css/jquery-jvectormap-1.2.2.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/datepicker3.css"
	th:href="@{/css/datepicker3.css}" type="text/css" />

<link rel="stylesheet" media="screen"
	href="resources/static/css/daterangepicker.css"
	th:href="@{/css/daterangepicker.css}" type="text/css" />
	
	<link rel="stylesheet" media="screen"
	href="resources/static/css/bootstrap-colorpicker.min.css"
	th:href="@{/css/bootstrap-colorpicker.min.css}" type="text/css" />
	
	
	<link rel="stylesheet" media="screen"
	href="resources/static/css/bootstrap-timepicker.min.css"
	th:href="@{/css/bootstrap-timepicker.min.css}" type="text/css" />


<link rel="stylesheet" media="screen"
	href="resources/static/css/bootstrap3-wysihtml5.min.css" th:href="@{/css/bootstrap3-wysihtml5.min.css}"
	type="text/css" />
	
		
	<link rel="stylesheet" media="screen"
	href="resources/static/css/fullcalendar.min.css"
	th:href="@{/css/fullcalendar.min.css}" type="text/css" />
	
			<link rel="stylesheet" media="print"
	href="resources/static/css/fullcalendar.print.css"
	th:href="@{/css/fullcalendar.print.css}" type="text/css" />
	
	
		<link rel="stylesheet" media="screen"
	href="resources/static/css/select2.min.css"
	th:href="@{/css/select2.min.css}" type="text/css" />

<!-- 	<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/fullcalendar.print.css" -->
<!-- 	th:href="@{/css/fullcalendar.print.css}" type="text/css" /> -->
	
<link rel="stylesheet" media="screen"
	href="resources/static/css/style.css" th:href="@{/css/style.css}"
	type="text/css" />



			<link rel="stylesheet" media="screen"
	href="resources/static/css/maps.css"
	th:href="@{/css/maps.css}" type="text/css" />
	
	   <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDUyMYsukxj_Dp3UqiVCjEssZelR9gWlss"
      th:src="@{https://maps.googleapis.com/maps/api/js?key=AIzaSyDUyMYsukxj_Dp3UqiVCjEssZelR9gWlss}">
    </script>
	
	      	<script  type="text/javascript">
      
    	var map,infowindow,infoWindow;
    	
    	var longetude;
    	
    	var latitude;
    	
    	var endereco;
    	
    	var paciente;
    	
      
        function initialize() {
      	  
        	latitude = $("#latitude").val();
        	
        	longetude = $("#longetude").val();
        	
        	endereco = $("#endereco").val();
        	
        	paciente = $("#paciente").val();
        	
        	
        	  
        	  var myLatlng = new google.maps.LatLng(latitude, longetude);
        	  
        	  
        	  var mapOptions = {
        	  zoom: 12,
        	  center: myLatlng,
        	  mapTypeId: google.maps.MapTypeId.ROADMAP
        	}
        	  
        	  
            map = new google.maps.Map(document.getElementById("maper"),mapOptions);
        	  
        	  
        	  
        	  var contentString = endereco;
        	  
        	  var contentStringinfo = "Location found.";
        	  
        	  
        	  infowindow = new google.maps.InfoWindow({
                  content: contentString
                });
        	  
        	  var marker = new google.maps.Marker({
        		  position: myLatlng,
        		  map: map,
        		  title: 'Uluru (Ayers Rock)'
        		});
        	  
        	  marker.addListener('click', function() {
                  infowindow.open(map, marker);
                });
        	  
        	  
        	  
        	  infoWindow = new google.maps.InfoWindow({
                  content: contentStringinfo
                });
        	  
        	  
        	  var markerinfo = new google.maps.Marker({
        		  position: myLatlng,
        		  map: map,
        		  title: 'Uluru (Ayers Rock)2222'
        		});
        	  
        	  markerinfo.addListener('click', function() {
        		  infowindow.open(map, markerinfo);
                });
        	  
        	  
        	  if (navigator.geolocation) {
                  navigator.geolocation.getCurrentPosition(function(position) {
                    var pos = {
                      lat: position.coords.latitude,
                      lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
//                     infoWindow.setContent('Location found.');
                    infoWindow.open(map);
                    map.setCenter(pos);
                  }, function() {
                    handleLocationError(true, infowindow, map.getCenter());
                  });
                } else {
                  // Browser doesn't support Geolocation
                  handleLocationError(false, infoWindow, map.getCenter());
                }            
        
      }
        
        function handleLocationError(browserHasGeolocation, infoWindow	, pos) {
        	infoWindow.setPosition(pos);
        	infoWindow.setContent(browserHasGeolocation ?
                                  'Error: The Geolocation service failed.' :
                                  'Error: Your browser doesn\'t support geolocation.');
        	infoWindow.open(map);
          }
        
      
      google.maps.event.addDomListener(window, 'load', initialize);
      
//       $(document).ready(function(){
//     	  initialize();
//     	});
    </script>  	
    
	
	</head>
		
		<title>Mapa</title>

			<body  class="hold-transition skin-blue sidebar-mini">
			
			<div class="wrapper">

	   			  <nav th:replace="fragmentos/top-nav :: nav">
				
				</nav>
				
					<div th:replace="fragmentos/nav :: nav-side"> </div>
				
		  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Mapa
        <small>Mapa</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Mapa</a></li>
        <li class="active">Paciente</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
     
 	<div id="maper"></div> 
 	
 	<input id="latitude" name="latitude" type="text" th:value="${endereco.latitude}" />
 	<input id="longetude" name="longetude" type="text" th:value="${endereco.longetude}" />
	<input id="endereco" name="endereco" type="text" th:value="${endereco}" />
	<input id="paciente" name="paciente" type="text" th:value="${paciente}" />
    </section>
    <!-- /.content -->
  </div>

	<div th:replace="fragmentos/footer :: script" style="display:none;"></div>
	
		</div>	
		

		
</body>
			
			
</html>

